#!/usr/bin/env python3
# Quick plotting script: reads ner_comparison.json and creates three PNGs\n+import os\n+import json\n+import matplotlib.pyplot as plt\n+import numpy as np\n+\n+\n+def main():\n+    base = os.path.dirname(os.path.abspath(__file__))\n+    results_path = os.path.join(base, '..', 'results', 'evaluations', 'ner_comparison.json')\n+    graphs_dir = os.path.join(base, '..', 'results', 'graphs')\n+    os.makedirs(graphs_dir, exist_ok=True)\n+\n+    with open(results_path, 'r', encoding='utf-8') as f:\n+        results = json.load(f)\n+\n+    methods = [r['method'] for r in results]\n+    counts = [r.get('total_entities', 0) for r in results]\n+    times = [r.get('avg_time_per_article', 0) for r in results]\n+\n+    # entities count\n+    plt.figure(figsize=(8,4))\n+    plt.bar(methods, counts, color=['#4c72b0','#55a868','#c44e52'])\n+    plt.title('Total entities by method')\n+    plt.tight_layout()\n+    plt.savefig(os.path.join(graphs_dir, 'entities_count.png'), dpi=150)\n+    plt.close()\n+\n+    # avg time\n+    plt.figure(figsize=(8,4))\n+    plt.bar(methods, times, color=['#4c72b0','#55a868','#c44e52'])\n+    plt.title('Avg time per article (s)')\n+    plt.tight_layout()\n+    plt.savefig(os.path.join(graphs_dir, 'avg_time.png'), dpi=150)\n+    plt.close()\n+\n+    # entity type distribution\n+    types = set()\n+    for r in results:\n+        types.update(r.get('entities_by_type', {}).keys())\n+    types = sorted(types)\n+\n+    x = np.arange(len(results))\n+    width = 0.8 / max(1, len(types))\n+    plt.figure(figsize=(10,4))\n+    for i,t in enumerate(types):\n+        vals = [r.get('entities_by_type', {}).get(t, 0) for r in results]\n+        plt.bar(x + i*width, vals, width=width, label=t)\n+    plt.xticks(x + width*len(types)/2 - width/2, methods, rotation=15)\n+    plt.legend()\n+    plt.tight_layout()\n+    plt.savefig(os.path.join(graphs_dir, 'entity_type_distribution.png'), dpi=150)\n+    plt.close()\n+\n+    print('Plots saved to', graphs_dir)\n+\n+\n+if __name__ == '__main__':\n+    main()\n+\n*** End Patch"}]}

